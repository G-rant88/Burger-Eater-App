<div class="row">
<img id="burgimg" src="/assets/img/burger.jpg">
<h1>Eat Dat Burg!</h1>
<div><button class="waves-effect waves-light btn z-depth-5 red" type="button" id="bathroom"/>Go To Bathroom</button></div>
</div>
<div class="row">
<ul class="left">
  <li>
    {{#each Dev.devn}}
    <form>
    <p class="burghere"><span class="borders z-depth-4 drag" id="draggable" value={{id}}>
      {{id}}. {{burger_name}}</span>
     <!--  <button class="waves-effect waves-light btn devburg z-depth-5 cyan pulse" id={{id}}>Devour it!</button> -->
    </p>
  </form>
  {{/each}}
  </li>
</ul>

  <div class="dropborder right center-align" id="droppable">
    <ul>
  <p id="devy">DEVOUR IT!</p>
  {{#each Dev.devy}}
   <!--  <p> --><!-- <button class="waves-effect waves-light btn regburg z-depth-5 orange pulse" id={{id}}>Regurgitate it!</button>  -->
      <li class="borders z-depth-4 burgdev"">
      {{id}}. {{burger_name}}</li>
<!--     </p> -->
  {{/each}}
</ul>
</div>
</div>
<div class="row2 center-align">
<form id="addburg" class="input-field col s6 center-align" action="/add" method="POST">
<textarea class="materialize-textarea" type="text" name="burgeradd" placeholder="Burger Name"></textarea>
  <button class="waves-effect waves-light btn z-depth-5" type="submit" id="burgsub"/>Submit</button>
  <p id="p1" class="center-align">Enter the burger you want to eat and click Submit!</p>
</form>

</div>
<script type="text/javascript">

  var dropflag = false;
  
 $(".drag").on("click", function(event) {

if(dropflag === true){

  Materialize.toast('YUM!', 100000);
    var id = $(this).attr("value");
    console.log(id);
    var dats ={
      ids: id
    }
    // Send the PUT request.s
    $.ajax("/devs/" + id, {
      type: "PUT",
      data: dats
    }).then(
      function() {
        console.log("devoured at id ", id);
        dropflag = false;
        location.reload();

      }
    );
  }
  });

 $("#burgsub").on("click", function(event) {

  Materialize.toast('Oh Yeah!', 100000);

});


  $(".regburg").on("click", function(event) {

  Materialize.toast('GROSS!', 100000);

    var id = $(this).attr("id");
    console.log(id);
    var dats ={
      ids: id
    }
    // Send the PUT request.s
    $.ajax("/reg/" + id, {
      type: "PUT",
      data: dats
    }).then(
      function() {
        console.log("regurgitated at id ", id);
        location.reload();
      }
    );
  });

    $("#bathroom").on("click", function(event) {

  Materialize.toast('EMPTIED OUT!', 100000);

    // Send the PUT request.s
    $.ajax("/del/", {
      type: "DELETE"
    }).then(
      function() {
        console.log("emptied out");
        location.reload();
      }
    );
  });


$( function() {
    $(".drag").draggable();
    $("#droppable").droppable(
    {
      drop: function( event, ui ) {
        $( this )
          .addClass( "ui-state-highlight" )
          .find( "p" )
            .html( "DEVOURED!" );
            dropflag = true;
  }
    });
 
});

</script>